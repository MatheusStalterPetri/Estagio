{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { html } from 'lit';\nimport { property, query, queryAll, state } from 'lit/decorators.js';\nimport { styleMap } from 'lit/directives/style-map.js';\nimport { IgcCalendarResourceStringEN } from '../common/i18n/calendar.resources.js';\nimport { EventEmitterMixin } from '../common/mixins/event-emitter.js';\nimport { SizableMixin } from '../common/mixins/sizable.js';\nimport { partNameMap } from '../common/util.js';\nimport { IgcCalendarBaseComponent, MONTHS_PER_ROW, YEARS_PER_ROW } from './common/calendar-base.js';\nimport { TimeDeltaInterval } from './common/calendar.model.js';\nimport { calculateYearsRangeStart, setDateSafe } from './common/utils.js';\nimport { styles as bootstrap } from './themes/bootstrap/calendar.bootstrap.css.js';\nimport { styles } from './themes/calendar.base.css.js';\nimport { styles as fluent } from './themes/fluent/calendar.fluent.css.js';\nimport { themes } from '../../theming/theming-decorator.js';\nimport { watch } from '../common/decorators/watch.js';\nimport { defineComponents } from '../common/definitions/defineComponents.js';\nimport IgcYearsViewComponent from './years-view/years-view.js';\nimport IgcDaysViewComponent from './days-view/days-view.js';\nimport IgcMonthsViewComponent from './months-view/months-view.js';\nimport IgcIconComponent from '../icon/icon.js';\ndefineComponents(IgcIconComponent, IgcDaysViewComponent, IgcMonthsViewComponent, IgcYearsViewComponent);\nlet IgcCalendarComponent = class IgcCalendarComponent extends SizableMixin(EventEmitterMixin(IgcCalendarBaseComponent)) {\n  formattersChange() {\n    this.initFormatters();\n  }\n  themeAdopted(controller) {\n    this.themeController = controller;\n  }\n  willUpdate() {\n    this.theme = this.themeController.theme;\n  }\n  constructor() {\n    super();\n    this.activeDaysViewIndex = 0;\n    this.hideOutsideDays = false;\n    this.hideHeader = false;\n    this.headerOrientation = 'horizontal';\n    this.orientation = 'horizontal';\n    this.visibleMonths = 1;\n    this.activeView = 'days';\n    this.formatOptions = {\n      month: 'long',\n      weekday: 'narrow'\n    };\n    this.resourceStrings = IgcCalendarResourceStringEN;\n    this.handleKeyDown = event => {\n      const tagName = event.target.tagName.toLowerCase();\n      if (tagName !== 'igc-days-view' && tagName !== 'igc-months-view' && tagName !== 'igc-years-view') {\n        return;\n      }\n      switch (event.key) {\n        case 'PageDown':\n          event.preventDefault();\n          if (event.shiftKey && this.activeView === 'days') {\n            this.nextYear();\n          } else {\n            this.navigateNext();\n          }\n          if (this.activeView === 'days') {\n            this.focusActiveDate();\n          }\n          break;\n        case 'PageUp':\n          event.preventDefault();\n          if (event.shiftKey && this.activeView === 'days') {\n            this.previousYear();\n          } else {\n            this.navigatePrevious();\n          }\n          if (this.activeView === 'days') {\n            this.focusActiveDate();\n          }\n          break;\n        case 'Home':\n          event.preventDefault();\n          if (this.activeView === 'days') {\n            const firstDaysView = this.daysViews[0];\n            const activeDate = firstDaysView.activeDate;\n            const date = new Date(activeDate);\n            date.setDate(1);\n            this.activeDate = date;\n            this.activeDaysViewIndex = 0;\n          } else if (this.activeView === 'months') {\n            const date = new Date(this.activeDate);\n            date.setMonth(0);\n            this.activeDate = date;\n          } else if (this.activeView === 'years') {\n            const startYear = calculateYearsRangeStart(this.activeDate, this.yearPerPage);\n            const date = new Date(this.activeDate);\n            date.setDate(1);\n            date.setFullYear(startYear);\n            setDateSafe(date, this.activeDate.getDate());\n            this.activeDate = date;\n          }\n          this.focusActiveDate();\n          break;\n        case 'End':\n          event.preventDefault();\n          if (this.activeView === 'days') {\n            const index = this.daysViews.length - 1;\n            const lastDaysView = this.daysViews[index];\n            const activeDate = lastDaysView.activeDate;\n            const date = new Date(activeDate);\n            date.setDate(1);\n            date.setMonth(date.getMonth() + 1);\n            date.setDate(0);\n            this.activeDate = date;\n            this.activeDaysViewIndex = index;\n          } else if (this.activeView === 'months') {\n            const date = new Date(this.activeDate);\n            date.setMonth(11);\n            this.activeDate = date;\n          } else if (this.activeView === 'years') {\n            const startYear = calculateYearsRangeStart(this.activeDate, this.yearPerPage);\n            const date = new Date(this.activeDate);\n            date.setDate(1);\n            date.setFullYear(startYear + this.yearPerPage - 1);\n            setDateSafe(date, this.activeDate.getDate());\n            this.activeDate = date;\n          }\n          this.focusActiveDate();\n          break;\n        case 'ArrowLeft':\n          event.preventDefault();\n          if (this.activeView === 'days') {\n            const date = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Day, -1);\n            if (this.visibleMonths > 1) {\n              const activeDayView = this.daysViews[this.activeDaysViewIndex];\n              const activeMonthDate = activeDayView.activeDate;\n              if (activeMonthDate.getMonth() !== date.getMonth()) {\n                this.activeDaysViewIndex = this.activeDaysViewIndex > 0 ? this.activeDaysViewIndex - 1 : 0;\n              }\n            }\n            this.activeDate = date;\n          } else if (this.activeView === 'months') {\n            this.previousMonth();\n          } else if (this.activeView === 'years') {\n            this.previousYear();\n          }\n          this.focusActiveDate();\n          break;\n        case 'ArrowRight':\n          event.preventDefault();\n          if (this.activeView === 'days') {\n            const date = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Day, 1);\n            if (this.visibleMonths > 1) {\n              const activeDayView = this.daysViews[this.activeDaysViewIndex];\n              const activeMonthDate = activeDayView.activeDate;\n              if (activeMonthDate.getMonth() !== date.getMonth()) {\n                this.activeDaysViewIndex = this.activeDaysViewIndex === this.visibleMonths - 1 ? this.activeDaysViewIndex : this.activeDaysViewIndex + 1;\n              }\n            }\n            this.activeDate = date;\n          } else if (this.activeView === 'months') {\n            this.nextMonth();\n          } else if (this.activeView === 'years') {\n            this.nextYear();\n          }\n          this.focusActiveDate();\n          break;\n        case 'ArrowUp':\n          event.preventDefault();\n          if (this.activeView === 'days') {\n            const date = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Week, -1);\n            if (this.visibleMonths > 1) {\n              const activeDayView = this.daysViews[this.activeDaysViewIndex];\n              const activeMonthDate = activeDayView.activeDate;\n              if (activeMonthDate.getMonth() !== date.getMonth()) {\n                this.activeDaysViewIndex = this.activeDaysViewIndex > 0 ? this.activeDaysViewIndex - 1 : 0;\n              }\n            }\n            this.activeDate = date;\n          } else if (this.activeView === 'months') {\n            this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Month, -MONTHS_PER_ROW);\n          } else if (this.activeView === 'years') {\n            this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Year, -YEARS_PER_ROW);\n          }\n          this.focusActiveDate();\n          break;\n        case 'ArrowDown':\n          event.preventDefault();\n          if (this.activeView === 'days') {\n            const date = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Week, 1);\n            if (this.visibleMonths > 1) {\n              const activeDayView = this.daysViews[this.activeDaysViewIndex];\n              const activeMonthDate = activeDayView.activeDate;\n              if (activeMonthDate.getMonth() !== date.getMonth()) {\n                this.activeDaysViewIndex = this.activeDaysViewIndex === this.visibleMonths - 1 ? this.activeDaysViewIndex : this.activeDaysViewIndex + 1;\n              }\n            }\n            this.activeDate = date;\n          } else if (this.activeView === 'months') {\n            this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Month, MONTHS_PER_ROW);\n          } else if (this.activeView === 'years') {\n            this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Year, YEARS_PER_ROW);\n          }\n          this.focusActiveDate();\n          break;\n      }\n    };\n    this.initFormatters();\n  }\n  get yearPerPage() {\n    return this.size === 'small' ? 18 : 15;\n  }\n  get previousButtonLabel() {\n    return this.activeView === 'days' ? this.resourceStrings.previousMonth : this.activeView === 'months' ? this.resourceStrings.previousYear : this.activeView === 'years' ? this.resourceStrings.previousYears.replace('{0}', this.yearPerPage.toString()) : '';\n  }\n  get nextButtonLabel() {\n    return this.activeView === 'days' ? this.resourceStrings.nextMonth : this.activeView === 'months' ? this.resourceStrings.nextYear : this.activeView === 'years' ? this.resourceStrings.nextYears.replace('{0}', this.yearPerPage.toString()) : '';\n  }\n  monthSelectLabel(activeDate) {\n    return activeDate.toLocaleString(this.locale, {\n      month: 'long'\n    }) + ', ' + this.resourceStrings.selectMonth;\n  }\n  yearSelectLabel(activeDate) {\n    return activeDate.getFullYear() + ', ' + this.resourceStrings.selectYear;\n  }\n  async focusActiveDate() {\n    await this.updateComplete;\n    if (this.activeView === 'days') {\n      const daysView = this.daysViews[this.activeDaysViewIndex];\n      daysView.focusActiveDate();\n    } else if (this.activeView === 'months') {\n      this.monthsView.focusActiveDate();\n    } else if (this.activeView === 'years') {\n      this.yearsView.focusActiveDate();\n    }\n  }\n  initFormatters() {\n    this.formatterMonth = new Intl.DateTimeFormat(this.locale, {\n      month: this.formatOptions.month\n    });\n    this.formatterWeekday = new Intl.DateTimeFormat(this.locale, {\n      weekday: 'short'\n    });\n    this.formatterMonthDay = new Intl.DateTimeFormat(this.locale, {\n      month: 'short',\n      day: 'numeric'\n    });\n  }\n  formattedMonth(value) {\n    return this.formatterMonth.format(value);\n  }\n  changeValue(event) {\n    event.stopPropagation();\n    const daysView = event.target;\n    let newValue;\n    if (this.selection === 'single') {\n      this.value = daysView.value;\n      newValue = this.value;\n    } else {\n      this.values = daysView.values;\n      newValue = this.values;\n    }\n    this.emitEvent('igcChange', {\n      detail: newValue\n    });\n  }\n  changeMonth(event) {\n    event.stopPropagation();\n    this.activeDate = event.target.value;\n    this.activeView = 'days';\n    this.focusActiveDate();\n  }\n  changeYear(event) {\n    event.stopPropagation();\n    this.activeDate = event.target.value;\n    this.activeView = 'months';\n    this.focusActiveDate();\n  }\n  switchToMonths(daysViewIndex) {\n    this.activateDaysView(daysViewIndex);\n    this.activeView = 'months';\n  }\n  switchToYears(daysViewIndex) {\n    if (this.activeView === 'days') {\n      this.activateDaysView(daysViewIndex);\n    }\n    this.activeView = 'years';\n  }\n  activateDaysView(daysViewIndex) {\n    const activeDaysView = this.daysViews[daysViewIndex];\n    this.activeDate = activeDaysView.activeDate;\n    this.activeDaysViewIndex = daysViewIndex;\n  }\n  activeDateChanged(event) {\n    const day = event.detail;\n    const daysViews = Array.from(this.daysViews);\n    this.activeDaysViewIndex = daysViews.indexOf(event.target);\n    this.activeDate = day.date;\n    if (!day.isCurrentMonth) {\n      this.focusActiveDate();\n    }\n  }\n  rangePreviewDateChange(event) {\n    this.rangePreviewDate = event.detail;\n  }\n  nextMonth() {\n    this.activeDate = this.calendarModel.getNextMonth(this.activeDate);\n  }\n  previousMonth() {\n    this.activeDate = this.calendarModel.getPrevMonth(this.activeDate);\n  }\n  nextYear() {\n    this.activeDate = this.calendarModel.getNextYear(this.activeDate);\n  }\n  previousYear() {\n    this.activeDate = this.calendarModel.getPrevYear(this.activeDate);\n  }\n  nextYearsPage() {\n    this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Year, this.yearPerPage);\n  }\n  previousYearsPage() {\n    this.activeDate = this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Year, -this.yearPerPage);\n  }\n  navigateNext() {\n    if (this.activeView === 'days') {\n      this.nextMonth();\n    } else if (this.activeView === 'months') {\n      this.nextYear();\n    } else if (this.activeView === 'years') {\n      this.nextYearsPage();\n    }\n  }\n  navigatePrevious() {\n    if (this.activeView === 'days') {\n      this.previousMonth();\n    } else if (this.activeView === 'months') {\n      this.previousYear();\n    } else if (this.activeView === 'years') {\n      this.previousYearsPage();\n    }\n  }\n  renderNavigation(activeDate, renderButtons = true, daysViewIndex = 0) {\n    activeDate = activeDate !== null && activeDate !== void 0 ? activeDate : this.activeDate;\n    let startYear = undefined;\n    let endYear = undefined;\n    const prev_icon = this.theme === 'fluent' ? 'arrow_upward' : 'navigate_before';\n    const next_icon = this.theme === 'fluent' ? 'arrow_downward' : 'navigate_next';\n    if (this.activeView === 'years') {\n      startYear = calculateYearsRangeStart(activeDate, this.yearPerPage);\n      endYear = startYear + this.yearPerPage - 1;\n    }\n    return html`<div part=\"navigation\">\n      <div>\n        ${this.activeView === 'days' ? html`<button\n              part=\"months-navigation\"\n              aria-label=${this.monthSelectLabel(activeDate)}\n              @click=${() => this.switchToMonths(daysViewIndex)}\n            >\n              ${this.formattedMonth(activeDate)}\n            </button>` : ''}\n        ${this.activeView === 'days' || this.activeView === 'months' ? html`<span class=\"aria-off-screen\" aria-live=\"polite\">\n                ${this.activeView === 'days' ? activeDate.toLocaleString(this.locale, {\n      month: 'long',\n      year: 'numeric'\n    }) : activeDate.getFullYear()}\n              </span>\n              <button\n                part=\"years-navigation\"\n                aria-label=${this.yearSelectLabel(activeDate)}\n                @click=${() => this.switchToYears(daysViewIndex)}\n              >\n                ${activeDate.getFullYear()}\n              </button>` : ''}\n        ${this.activeView === 'years' ? html`<span part=\"years-range\" aria-live=\"polite\"\n              >${`${startYear} - ${endYear}`}</span\n            >` : ''}\n      </div>\n      ${renderButtons ? html`<div part=\"navigation-buttons\">\n            <button\n              part=${partNameMap({\n      'navigation-button': true,\n      vertical: this.orientation === 'vertical'\n    })}\n              aria-label=${this.previousButtonLabel}\n              @click=${this.navigatePrevious}\n            >\n              <igc-icon\n                aria-hidden=\"true\"\n                name=${prev_icon}\n                collection=\"internal\"\n              ></igc-icon>\n            </button>\n            <button\n              part=${partNameMap({\n      'navigation-button': true,\n      vertical: this.orientation === 'vertical'\n    })}\n              aria-label=${this.nextButtonLabel}\n              @click=${this.navigateNext}\n            >\n              <igc-icon\n                aria-hidden=\"true\"\n                name=${next_icon}\n                collection=\"internal\"\n              ></igc-icon>\n            </button>\n          </div>` : ''}\n    </div>`;\n  }\n  renderHeader() {\n    if (this.hideHeader || this.selection === 'multiple') {\n      return '';\n    }\n    return html`<div part=\"header\">\n      <h5 part=\"header-title\">\n        <slot name=\"title\"\n          >${this.selection === 'single' ? this.resourceStrings.selectDate : this.resourceStrings.selectRange}</slot\n        >\n      </h5>\n      <h2 part=\"header-date\">${this.renderHeaderDate()}</h2>\n    </div>`;\n  }\n  renderHeaderDate() {\n    if (this.selection === 'single') {\n      const date = this.value;\n      return html`${date ? html`${this.formatterWeekday.format(date)},${this.headerOrientation === 'vertical' ? html`<br />` : ' '}${this.formatterMonthDay.format(date)}` : this.resourceStrings.selectedDate}`;\n    }\n    const dates = this.values;\n    return html`<span\n        >${dates && dates.length ? this.formatterMonthDay.format(dates[0]) : this.resourceStrings.startDate}</span\n      >\n      <span> - </span>\n      <span\n        >${dates && dates.length > 1 ? this.formatterMonthDay.format(dates[dates.length - 1]) : this.resourceStrings.endDate}</span\n      >`;\n  }\n  render() {\n    const activeDates = [];\n    const monthsCount = this.visibleMonths > 1 ? this.visibleMonths : 1;\n    for (let i = 0; i < monthsCount; i++) {\n      activeDates.push(this.calendarModel.timedelta(this.activeDate, TimeDeltaInterval.Month, i - this.activeDaysViewIndex));\n    }\n    return html`\n      ${this.renderHeader()}\n      <div\n        part=\"content\"\n        style=${styleMap({\n      display: 'flex',\n      flexGrow: '1',\n      flexDirection: this.activeView === 'days' ? this.orientation === 'horizontal' ? 'row' : 'column' : 'column'\n    })}\n        @keydown=${this.handleKeyDown}\n      >\n        ${this.activeView === 'days' ? activeDates.map((activeDate, i) => html`<div part=\"days-view-container\">\n                ${this.renderNavigation(activeDate, this.orientation === 'horizontal' ? i === activeDates.length - 1 : i === 0, i)}\n                <igc-days-view\n                  part=\"days-view\"\n                  .active=${this.activeDaysViewIndex === i}\n                  .activeDate=${activeDate}\n                  .weekStart=${this.weekStart}\n                  .weekDayFormat=${this.formatOptions.weekday}\n                  .locale=${this.locale}\n                  .selection=${this.selection}\n                  .value=${this.value}\n                  .values=${this.values}\n                  .hideLeadingDays=${this.hideOutsideDays || i !== 0}\n                  .hideTrailingDays=${this.hideOutsideDays || i !== activeDates.length - 1}\n                  .showWeekNumbers=${this.showWeekNumbers}\n                  .disabledDates=${this.disabledDates}\n                  .specialDates=${this.specialDates}\n                  .rangePreviewDate=${this.rangePreviewDate}\n                  .resourceStrings=${this.resourceStrings}\n                  exportparts=\"days-row, label, date-inner, week-number-inner, week-number, date, first, last, selected, inactive, hidden, current, weekend, range, special, disabled, single, preview\"\n                  @igcChange=${this.changeValue}\n                  @igcActiveDateChange=${this.activeDateChanged}\n                  @igcRangePreviewDateChange=${this.rangePreviewDateChange}\n                ></igc-days-view>\n              </div>`) : ''}\n        ${this.activeView === 'months' ? html` ${this.renderNavigation()}\n              <igc-months-view\n                part=\"months-view\"\n                .value=${this.activeDate}\n                .locale=${this.locale}\n                .monthFormat=${this.formatOptions.month}\n                exportparts=\"month, selected, month-inner, current\"\n                @igcChange=${this.changeMonth}\n              ></igc-months-view>` : ''}\n        ${this.activeView === 'years' ? html`${this.renderNavigation()}\n              <igc-years-view\n                part=\"years-view\"\n                .value=${this.activeDate}\n                .yearsPerPage=${this.yearPerPage}\n                exportparts=\"year, selected, year-inner, current\"\n                @igcChange=${this.changeYear}\n              ></igc-years-view>` : ''}\n      </div>\n    `;\n  }\n};\nIgcCalendarComponent.styles = styles;\nIgcCalendarComponent.tagName = 'igc-calendar';\n__decorate([state()], IgcCalendarComponent.prototype, \"rangePreviewDate\", void 0);\n__decorate([state()], IgcCalendarComponent.prototype, \"activeDaysViewIndex\", void 0);\n__decorate([queryAll('igc-days-view')], IgcCalendarComponent.prototype, \"daysViews\", void 0);\n__decorate([query('igc-months-view')], IgcCalendarComponent.prototype, \"monthsView\", void 0);\n__decorate([query('igc-years-view')], IgcCalendarComponent.prototype, \"yearsView\", void 0);\n__decorate([property({\n  type: Boolean,\n  attribute: 'hide-outside-days'\n})], IgcCalendarComponent.prototype, \"hideOutsideDays\", void 0);\n__decorate([property({\n  type: Boolean,\n  attribute: 'hide-header'\n})], IgcCalendarComponent.prototype, \"hideHeader\", void 0);\n__decorate([property({\n  attribute: 'header-orientation',\n  reflect: true\n})], IgcCalendarComponent.prototype, \"headerOrientation\", void 0);\n__decorate([property()], IgcCalendarComponent.prototype, \"orientation\", void 0);\n__decorate([property({\n  type: Number,\n  attribute: 'visible-months'\n})], IgcCalendarComponent.prototype, \"visibleMonths\", void 0);\n__decorate([property({\n  attribute: 'active-view'\n})], IgcCalendarComponent.prototype, \"activeView\", void 0);\n__decorate([property({\n  attribute: false\n})], IgcCalendarComponent.prototype, \"formatOptions\", void 0);\n__decorate([property({\n  attribute: false\n})], IgcCalendarComponent.prototype, \"resourceStrings\", void 0);\n__decorate([watch('formatOptions'), watch('locale')], IgcCalendarComponent.prototype, \"formattersChange\", null);\nIgcCalendarComponent = __decorate([themes({\n  bootstrap,\n  fluent\n})], IgcCalendarComponent);\nexport default IgcCalendarComponent;","map":{"version":3,"names":["html","property","query","queryAll","state","styleMap","IgcCalendarResourceStringEN","EventEmitterMixin","SizableMixin","partNameMap","IgcCalendarBaseComponent","MONTHS_PER_ROW","YEARS_PER_ROW","TimeDeltaInterval","calculateYearsRangeStart","setDateSafe","styles","bootstrap","fluent","themes","watch","defineComponents","IgcYearsViewComponent","IgcDaysViewComponent","IgcMonthsViewComponent","IgcIconComponent","IgcCalendarComponent","formattersChange","initFormatters","themeAdopted","controller","themeController","willUpdate","theme","constructor","activeDaysViewIndex","hideOutsideDays","hideHeader","headerOrientation","orientation","visibleMonths","activeView","formatOptions","month","weekday","resourceStrings","handleKeyDown","event","tagName","target","toLowerCase","key","preventDefault","shiftKey","nextYear","navigateNext","focusActiveDate","previousYear","navigatePrevious","firstDaysView","daysViews","activeDate","date","Date","setDate","setMonth","startYear","yearPerPage","setFullYear","getDate","index","length","lastDaysView","getMonth","calendarModel","timedelta","Day","activeDayView","activeMonthDate","previousMonth","nextMonth","Week","Month","Year","size","previousButtonLabel","previousYears","replace","toString","nextButtonLabel","nextYears","monthSelectLabel","toLocaleString","locale","selectMonth","yearSelectLabel","getFullYear","selectYear","updateComplete","daysView","monthsView","yearsView","formatterMonth","Intl","DateTimeFormat","formatterWeekday","formatterMonthDay","day","formattedMonth","value","format","changeValue","stopPropagation","newValue","selection","values","emitEvent","detail","changeMonth","changeYear","switchToMonths","daysViewIndex","activateDaysView","switchToYears","activeDaysView","activeDateChanged","Array","from","indexOf","isCurrentMonth","rangePreviewDateChange","rangePreviewDate","getNextMonth","getPrevMonth","getNextYear","getPrevYear","nextYearsPage","previousYearsPage","renderNavigation","renderButtons","undefined","endYear","prev_icon","next_icon","year","vertical","renderHeader","selectDate","selectRange","renderHeaderDate","selectedDate","dates","startDate","endDate","render","activeDates","monthsCount","i","push","display","flexGrow","flexDirection","map","weekStart","showWeekNumbers","disabledDates","specialDates","__decorate","type","Boolean","attribute","reflect","Number"],"sources":["../../../src/components/calendar/calendar.ts"],"sourcesContent":["import { html } from 'lit';\nimport { property, query, queryAll, state } from 'lit/decorators.js';\nimport { styleMap } from 'lit/directives/style-map.js';\nimport {\n  IgcCalendarResourceStringEN,\n  IgcCalendarResourceStrings,\n} from '../common/i18n/calendar.resources.js';\nimport { Constructor } from '../common/mixins/constructor.js';\nimport { EventEmitterMixin } from '../common/mixins/event-emitter.js';\nimport { SizableMixin } from '../common/mixins/sizable.js';\nimport { partNameMap } from '../common/util.js';\nimport {\n  IgcCalendarBaseComponent,\n  IgcCalendarBaseEventMap,\n  MONTHS_PER_ROW,\n  YEARS_PER_ROW,\n} from './common/calendar-base.js';\nimport { ICalendarDate, TimeDeltaInterval } from './common/calendar.model.js';\nimport { calculateYearsRangeStart, setDateSafe } from './common/utils.js';\nimport { styles as bootstrap } from './themes/bootstrap/calendar.bootstrap.css.js';\nimport { styles } from './themes/calendar.base.css.js';\nimport { styles as fluent } from './themes/fluent/calendar.fluent.css.js';\nimport { themes } from '../../theming/theming-decorator.js';\nimport { watch } from '../common/decorators/watch.js';\n\nimport { defineComponents } from '../common/definitions/defineComponents.js';\nimport IgcYearsViewComponent from './years-view/years-view.js';\nimport IgcDaysViewComponent from './days-view/days-view.js';\nimport IgcMonthsViewComponent from './months-view/months-view.js';\nimport IgcIconComponent from '../icon/icon.js';\nimport { Theme, ThemeController } from '../../theming/types.js';\n\ndefineComponents(\n  IgcIconComponent,\n  IgcDaysViewComponent,\n  IgcMonthsViewComponent,\n  IgcYearsViewComponent\n);\n\n/**\n * Represents a calendar that lets users\n * to select a date value in a variety of different ways.\n *\n * @element igc-calendar\n *\n * @slot - The default slot for the calendar.\n * @slot title - Renders the title of the calendar header.\n *\n * @fires igcChange - Emitted when calendar changes its value.\n *\n * @csspart content - The content container.\n * @csspart days-view - The days view container.\n * @csspart months-view - The months view container.\n * @csspart years-view - The years view container.\n * @csspart header - The header container.\n * @csspart header-title - The header title container.\n * @csspart header-date - The header date container.\n * @csspart navigation - The navigation container.\n * @csspart months-navigation - The months navigation container.\n * @csspart years-navigation - The years navigation container.\n * @csspart years-range - The years range container.\n * @csspart navigation-buttons - The navigation buttons container.\n * @csspart navigation-button - The navigation button container.\n * @csspart navigation-button vertical - The navigation button container\n * when calendar orientation is vertical.\n * @csspart days-view-container - The days view container.\n */\n@themes({\n  bootstrap,\n  fluent,\n})\nexport default class IgcCalendarComponent extends SizableMixin(\n  EventEmitterMixin<\n    IgcCalendarBaseEventMap,\n    Constructor<IgcCalendarBaseComponent>\n  >(IgcCalendarBaseComponent)\n) {\n  public static styles = styles;\n  public static readonly tagName = 'igc-calendar';\n  private formatterMonth!: Intl.DateTimeFormat;\n  private formatterWeekday!: Intl.DateTimeFormat;\n  private formatterMonthDay!: Intl.DateTimeFormat;\n  protected themeController!: ThemeController;\n  private theme!: Theme;\n\n  @state()\n  private rangePreviewDate?: Date;\n\n  @state()\n  private activeDaysViewIndex = 0;\n\n  @queryAll('igc-days-view')\n  private daysViews!: NodeList;\n\n  @query('igc-months-view')\n  private monthsView!: IgcMonthsViewComponent;\n\n  @query('igc-years-view')\n  private yearsView!: IgcYearsViewComponent;\n\n  /** Controls the visibility of the dates that do not belong to the current month. */\n  @property({ type: Boolean, attribute: 'hide-outside-days' })\n  public hideOutsideDays = false;\n\n  /** Determines whether the calendar hides its header. Even if set to false, the header is not displayed for `multiple` selection. */\n  @property({ type: Boolean, attribute: 'hide-header' })\n  public hideHeader = false;\n\n  /** The orientation of the header. */\n  @property({ attribute: 'header-orientation', reflect: true })\n  public headerOrientation: 'vertical' | 'horizontal' = 'horizontal';\n\n  /** The orientation of the multiple months displayed in days view. */\n  @property()\n  public orientation: 'vertical' | 'horizontal' = 'horizontal';\n\n  /** The number of months displayed in days view. */\n  @property({ type: Number, attribute: 'visible-months' })\n  public visibleMonths = 1;\n\n  /** The active view. */\n  @property({ attribute: 'active-view' })\n  public activeView: 'days' | 'months' | 'years' = 'days';\n\n  /** The options used to format the months and the weekdays in the calendar views. */\n  @property({ attribute: false })\n  public formatOptions: Pick<Intl.DateTimeFormatOptions, 'month' | 'weekday'> =\n    {\n      month: 'long',\n      weekday: 'narrow',\n    };\n\n  /** The resource strings. */\n  @property({ attribute: false })\n  public resourceStrings: IgcCalendarResourceStrings =\n    IgcCalendarResourceStringEN;\n\n  @watch('formatOptions')\n  @watch('locale')\n  protected formattersChange() {\n    this.initFormatters();\n  }\n\n  protected themeAdopted(controller: ThemeController) {\n    this.themeController = controller;\n  }\n\n  protected override willUpdate() {\n    this.theme = this.themeController.theme;\n  }\n\n  constructor() {\n    super();\n    this.initFormatters();\n  }\n\n  private get yearPerPage() {\n    return this.size === 'small' ? 18 : 15;\n  }\n\n  private get previousButtonLabel() {\n    return this.activeView === 'days'\n      ? this.resourceStrings.previousMonth\n      : this.activeView === 'months'\n      ? this.resourceStrings.previousYear\n      : this.activeView === 'years'\n      ? this.resourceStrings.previousYears.replace(\n          '{0}',\n          this.yearPerPage.toString()\n        )\n      : '';\n  }\n\n  private get nextButtonLabel() {\n    return this.activeView === 'days'\n      ? this.resourceStrings.nextMonth\n      : this.activeView === 'months'\n      ? this.resourceStrings.nextYear\n      : this.activeView === 'years'\n      ? this.resourceStrings.nextYears.replace(\n          '{0}',\n          this.yearPerPage.toString()\n        )\n      : '';\n  }\n\n  private monthSelectLabel(activeDate: Date) {\n    return (\n      activeDate.toLocaleString(this.locale, {\n        month: 'long',\n      }) +\n      ', ' +\n      this.resourceStrings.selectMonth\n    );\n  }\n\n  private yearSelectLabel(activeDate: Date) {\n    return activeDate.getFullYear() + ', ' + this.resourceStrings.selectYear;\n  }\n\n  private handleKeyDown = (event: KeyboardEvent) => {\n    const tagName = (event.target as HTMLElement).tagName.toLowerCase();\n\n    if (\n      tagName !== 'igc-days-view' &&\n      tagName !== 'igc-months-view' &&\n      tagName !== 'igc-years-view'\n    ) {\n      return;\n    }\n\n    switch (event.key) {\n      case 'PageDown':\n        event.preventDefault();\n\n        if (event.shiftKey && this.activeView === 'days') {\n          this.nextYear();\n        } else {\n          this.navigateNext();\n        }\n\n        if (this.activeView === 'days') {\n          this.focusActiveDate();\n        }\n        break;\n      case 'PageUp':\n        event.preventDefault();\n\n        if (event.shiftKey && this.activeView === 'days') {\n          this.previousYear();\n        } else {\n          this.navigatePrevious();\n        }\n\n        if (this.activeView === 'days') {\n          this.focusActiveDate();\n        }\n        break;\n      case 'Home':\n        event.preventDefault();\n\n        if (this.activeView === 'days') {\n          const firstDaysView = this.daysViews[0] as IgcDaysViewComponent;\n          const activeDate = firstDaysView.activeDate;\n          const date = new Date(activeDate);\n          date.setDate(1);\n          this.activeDate = date;\n          this.activeDaysViewIndex = 0;\n        } else if (this.activeView === 'months') {\n          const date = new Date(this.activeDate);\n          date.setMonth(0);\n          this.activeDate = date;\n        } else if (this.activeView === 'years') {\n          const startYear = calculateYearsRangeStart(\n            this.activeDate,\n            this.yearPerPage\n          );\n          const date = new Date(this.activeDate);\n          date.setDate(1);\n          date.setFullYear(startYear);\n          setDateSafe(date, this.activeDate.getDate());\n          this.activeDate = date;\n        }\n\n        this.focusActiveDate();\n        break;\n      case 'End':\n        event.preventDefault();\n\n        if (this.activeView === 'days') {\n          const index = this.daysViews.length - 1;\n          const lastDaysView = this.daysViews[index] as IgcDaysViewComponent;\n          const activeDate = lastDaysView.activeDate;\n          const date = new Date(activeDate);\n          date.setDate(1);\n          date.setMonth(date.getMonth() + 1);\n          date.setDate(0);\n          this.activeDate = date;\n          this.activeDaysViewIndex = index;\n        } else if (this.activeView === 'months') {\n          const date = new Date(this.activeDate);\n          date.setMonth(11);\n          this.activeDate = date;\n        } else if (this.activeView === 'years') {\n          const startYear = calculateYearsRangeStart(\n            this.activeDate,\n            this.yearPerPage\n          );\n          const date = new Date(this.activeDate);\n          date.setDate(1);\n          date.setFullYear(startYear + this.yearPerPage - 1);\n          setDateSafe(date, this.activeDate.getDate());\n          this.activeDate = date;\n        }\n\n        this.focusActiveDate();\n        break;\n      case 'ArrowLeft':\n        event.preventDefault();\n\n        if (this.activeView === 'days') {\n          const date = this.calendarModel.timedelta(\n            this.activeDate,\n            TimeDeltaInterval.Day,\n            -1\n          );\n\n          if (this.visibleMonths > 1) {\n            const activeDayView = this.daysViews[\n              this.activeDaysViewIndex\n            ] as IgcDaysViewComponent;\n            const activeMonthDate = activeDayView.activeDate;\n\n            if (activeMonthDate.getMonth() !== date.getMonth()) {\n              this.activeDaysViewIndex =\n                this.activeDaysViewIndex > 0 ? this.activeDaysViewIndex - 1 : 0;\n            }\n          }\n          this.activeDate = date;\n        } else if (this.activeView === 'months') {\n          this.previousMonth();\n        } else if (this.activeView === 'years') {\n          this.previousYear();\n        }\n\n        this.focusActiveDate();\n        break;\n      case 'ArrowRight':\n        event.preventDefault();\n\n        if (this.activeView === 'days') {\n          const date = this.calendarModel.timedelta(\n            this.activeDate,\n            TimeDeltaInterval.Day,\n            1\n          );\n\n          if (this.visibleMonths > 1) {\n            const activeDayView = this.daysViews[\n              this.activeDaysViewIndex\n            ] as IgcDaysViewComponent;\n            const activeMonthDate = activeDayView.activeDate;\n\n            if (activeMonthDate.getMonth() !== date.getMonth()) {\n              this.activeDaysViewIndex =\n                this.activeDaysViewIndex === this.visibleMonths - 1\n                  ? this.activeDaysViewIndex\n                  : this.activeDaysViewIndex + 1;\n            }\n          }\n          this.activeDate = date;\n        } else if (this.activeView === 'months') {\n          this.nextMonth();\n        } else if (this.activeView === 'years') {\n          this.nextYear();\n        }\n\n        this.focusActiveDate();\n        break;\n      case 'ArrowUp':\n        event.preventDefault();\n\n        if (this.activeView === 'days') {\n          const date = this.calendarModel.timedelta(\n            this.activeDate,\n            TimeDeltaInterval.Week,\n            -1\n          );\n\n          if (this.visibleMonths > 1) {\n            const activeDayView = this.daysViews[\n              this.activeDaysViewIndex\n            ] as IgcDaysViewComponent;\n            const activeMonthDate = activeDayView.activeDate;\n\n            if (activeMonthDate.getMonth() !== date.getMonth()) {\n              this.activeDaysViewIndex =\n                this.activeDaysViewIndex > 0 ? this.activeDaysViewIndex - 1 : 0;\n            }\n          }\n          this.activeDate = date;\n        } else if (this.activeView === 'months') {\n          this.activeDate = this.calendarModel.timedelta(\n            this.activeDate,\n            TimeDeltaInterval.Month,\n            -MONTHS_PER_ROW\n          );\n        } else if (this.activeView === 'years') {\n          this.activeDate = this.calendarModel.timedelta(\n            this.activeDate,\n            TimeDeltaInterval.Year,\n            -YEARS_PER_ROW\n          );\n        }\n\n        this.focusActiveDate();\n        break;\n      case 'ArrowDown':\n        event.preventDefault();\n\n        if (this.activeView === 'days') {\n          const date = this.calendarModel.timedelta(\n            this.activeDate,\n            TimeDeltaInterval.Week,\n            1\n          );\n\n          if (this.visibleMonths > 1) {\n            const activeDayView = this.daysViews[\n              this.activeDaysViewIndex\n            ] as IgcDaysViewComponent;\n            const activeMonthDate = activeDayView.activeDate;\n\n            if (activeMonthDate.getMonth() !== date.getMonth()) {\n              this.activeDaysViewIndex =\n                this.activeDaysViewIndex === this.visibleMonths - 1\n                  ? this.activeDaysViewIndex\n                  : this.activeDaysViewIndex + 1;\n            }\n          }\n          this.activeDate = date;\n        } else if (this.activeView === 'months') {\n          this.activeDate = this.calendarModel.timedelta(\n            this.activeDate,\n            TimeDeltaInterval.Month,\n            MONTHS_PER_ROW\n          );\n        } else if (this.activeView === 'years') {\n          this.activeDate = this.calendarModel.timedelta(\n            this.activeDate,\n            TimeDeltaInterval.Year,\n            YEARS_PER_ROW\n          );\n        }\n\n        this.focusActiveDate();\n        break;\n    }\n  };\n\n  private async focusActiveDate() {\n    await this.updateComplete;\n\n    if (this.activeView === 'days') {\n      const daysView = this.daysViews[\n        this.activeDaysViewIndex\n      ] as IgcDaysViewComponent;\n      daysView.focusActiveDate();\n    } else if (this.activeView === 'months') {\n      this.monthsView.focusActiveDate();\n    } else if (this.activeView === 'years') {\n      this.yearsView.focusActiveDate();\n    }\n  }\n\n  private initFormatters() {\n    this.formatterMonth = new Intl.DateTimeFormat(this.locale, {\n      month: this.formatOptions.month,\n    });\n    this.formatterWeekday = new Intl.DateTimeFormat(this.locale, {\n      weekday: 'short',\n    });\n    this.formatterMonthDay = new Intl.DateTimeFormat(this.locale, {\n      month: 'short',\n      day: 'numeric',\n    });\n  }\n\n  private formattedMonth(value: Date) {\n    return this.formatterMonth.format(value);\n  }\n\n  private changeValue(event: CustomEvent<void>) {\n    event.stopPropagation();\n\n    const daysView = event.target as IgcDaysViewComponent;\n    let newValue;\n\n    if (this.selection === 'single') {\n      this.value = daysView.value;\n      newValue = this.value;\n    } else {\n      this.values = daysView.values;\n      newValue = this.values;\n    }\n\n    this.emitEvent('igcChange', { detail: newValue });\n  }\n\n  private changeMonth(event: CustomEvent<void>) {\n    event.stopPropagation();\n    this.activeDate = (event.target as IgcMonthsViewComponent).value;\n    this.activeView = 'days';\n\n    this.focusActiveDate();\n  }\n\n  private changeYear(event: CustomEvent<void>) {\n    event.stopPropagation();\n    this.activeDate = (event.target as IgcYearsViewComponent).value;\n    this.activeView = 'months';\n\n    this.focusActiveDate();\n  }\n\n  private switchToMonths(daysViewIndex: number) {\n    this.activateDaysView(daysViewIndex);\n    this.activeView = 'months';\n  }\n\n  private switchToYears(daysViewIndex: number) {\n    if (this.activeView === 'days') {\n      this.activateDaysView(daysViewIndex);\n    }\n    this.activeView = 'years';\n  }\n\n  private activateDaysView(daysViewIndex: number) {\n    const activeDaysView = this.daysViews[\n      daysViewIndex\n    ] as IgcDaysViewComponent;\n    this.activeDate = activeDaysView.activeDate;\n    this.activeDaysViewIndex = daysViewIndex;\n  }\n\n  private activeDateChanged(event: CustomEvent<ICalendarDate>) {\n    const day = event.detail;\n    const daysViews = Array.from(this.daysViews);\n\n    this.activeDaysViewIndex = daysViews.indexOf(event.target as Node);\n    this.activeDate = day.date;\n\n    if (!day.isCurrentMonth) {\n      this.focusActiveDate();\n    }\n  }\n\n  private rangePreviewDateChange(event: CustomEvent<Date>) {\n    this.rangePreviewDate = event.detail;\n  }\n\n  private nextMonth() {\n    this.activeDate = this.calendarModel.getNextMonth(this.activeDate);\n  }\n\n  private previousMonth() {\n    this.activeDate = this.calendarModel.getPrevMonth(this.activeDate);\n  }\n\n  private nextYear() {\n    this.activeDate = this.calendarModel.getNextYear(this.activeDate);\n  }\n\n  private previousYear() {\n    this.activeDate = this.calendarModel.getPrevYear(this.activeDate);\n  }\n\n  private nextYearsPage() {\n    this.activeDate = this.calendarModel.timedelta(\n      this.activeDate,\n      TimeDeltaInterval.Year,\n      this.yearPerPage\n    );\n  }\n\n  private previousYearsPage() {\n    this.activeDate = this.calendarModel.timedelta(\n      this.activeDate,\n      TimeDeltaInterval.Year,\n      -this.yearPerPage\n    );\n  }\n\n  private navigateNext() {\n    if (this.activeView === 'days') {\n      this.nextMonth();\n    } else if (this.activeView === 'months') {\n      this.nextYear();\n    } else if (this.activeView === 'years') {\n      this.nextYearsPage();\n    }\n  }\n\n  private navigatePrevious() {\n    if (this.activeView === 'days') {\n      this.previousMonth();\n    } else if (this.activeView === 'months') {\n      this.previousYear();\n    } else if (this.activeView === 'years') {\n      this.previousYearsPage();\n    }\n  }\n\n  private renderNavigation(\n    activeDate?: Date,\n    renderButtons = true,\n    daysViewIndex = 0\n  ) {\n    activeDate = activeDate ?? this.activeDate;\n\n    let startYear = undefined;\n    let endYear = undefined;\n    const prev_icon =\n      this.theme === 'fluent' ? 'arrow_upward' : 'navigate_before';\n    const next_icon =\n      this.theme === 'fluent' ? 'arrow_downward' : 'navigate_next';\n\n    if (this.activeView === 'years') {\n      startYear = calculateYearsRangeStart(activeDate, this.yearPerPage);\n      endYear = startYear + this.yearPerPage - 1;\n    }\n\n    return html`<div part=\"navigation\">\n      <div>\n        ${this.activeView === 'days'\n          ? html`<button\n              part=\"months-navigation\"\n              aria-label=${this.monthSelectLabel(activeDate)}\n              @click=${() => this.switchToMonths(daysViewIndex)}\n            >\n              ${this.formattedMonth(activeDate)}\n            </button>`\n          : ''}\n        ${this.activeView === 'days' || this.activeView === 'months'\n          ? html`<span class=\"aria-off-screen\" aria-live=\"polite\">\n                ${this.activeView === 'days'\n                  ? activeDate.toLocaleString(this.locale, {\n                      month: 'long',\n                      year: 'numeric',\n                    })\n                  : activeDate.getFullYear()}\n              </span>\n              <button\n                part=\"years-navigation\"\n                aria-label=${this.yearSelectLabel(activeDate)}\n                @click=${() => this.switchToYears(daysViewIndex)}\n              >\n                ${activeDate.getFullYear()}\n              </button>`\n          : ''}\n        ${this.activeView === 'years'\n          ? html`<span part=\"years-range\" aria-live=\"polite\"\n              >${`${startYear} - ${endYear}`}</span\n            >`\n          : ''}\n      </div>\n      ${renderButtons\n        ? html`<div part=\"navigation-buttons\">\n            <button\n              part=${partNameMap({\n                'navigation-button': true,\n                vertical: this.orientation === 'vertical',\n              })}\n              aria-label=${this.previousButtonLabel}\n              @click=${this.navigatePrevious}\n            >\n              <igc-icon\n                aria-hidden=\"true\"\n                name=${prev_icon}\n                collection=\"internal\"\n              ></igc-icon>\n            </button>\n            <button\n              part=${partNameMap({\n                'navigation-button': true,\n                vertical: this.orientation === 'vertical',\n              })}\n              aria-label=${this.nextButtonLabel}\n              @click=${this.navigateNext}\n            >\n              <igc-icon\n                aria-hidden=\"true\"\n                name=${next_icon}\n                collection=\"internal\"\n              ></igc-icon>\n            </button>\n          </div>`\n        : ''}\n    </div>`;\n  }\n\n  private renderHeader() {\n    if (this.hideHeader || this.selection === 'multiple') {\n      return '';\n    }\n\n    return html`<div part=\"header\">\n      <h5 part=\"header-title\">\n        <slot name=\"title\"\n          >${this.selection === 'single'\n            ? this.resourceStrings.selectDate\n            : this.resourceStrings.selectRange}</slot\n        >\n      </h5>\n      <h2 part=\"header-date\">${this.renderHeaderDate()}</h2>\n    </div>`;\n  }\n\n  private renderHeaderDate() {\n    if (this.selection === 'single') {\n      const date = this.value;\n      return html`${date\n        ? html`${this.formatterWeekday.format(date)},${this\n            .headerOrientation === 'vertical'\n            ? html`<br />`\n            : ' '}${this.formatterMonthDay.format(date)}`\n        : this.resourceStrings.selectedDate}`;\n    }\n\n    const dates = this.values;\n\n    return html`<span\n        >${dates && dates.length\n          ? this.formatterMonthDay.format(dates[0])\n          : this.resourceStrings.startDate}</span\n      >\n      <span> - </span>\n      <span\n        >${dates && dates.length > 1\n          ? this.formatterMonthDay.format(dates[dates.length - 1])\n          : this.resourceStrings.endDate}</span\n      >`;\n  }\n\n  protected override render() {\n    const activeDates: Date[] = [];\n    const monthsCount = this.visibleMonths > 1 ? this.visibleMonths : 1;\n\n    for (let i = 0; i < monthsCount; i++) {\n      activeDates.push(\n        this.calendarModel.timedelta(\n          this.activeDate,\n          TimeDeltaInterval.Month,\n          i - this.activeDaysViewIndex\n        )\n      );\n    }\n\n    return html`\n      ${this.renderHeader()}\n      <div\n        part=\"content\"\n        style=${styleMap({\n          display: 'flex',\n          flexGrow: '1',\n          flexDirection:\n            this.activeView === 'days'\n              ? this.orientation === 'horizontal'\n                ? 'row'\n                : 'column'\n              : 'column',\n        })}\n        @keydown=${this.handleKeyDown}\n      >\n        ${this.activeView === 'days'\n          ? activeDates.map(\n              (activeDate, i) => html`<div part=\"days-view-container\">\n                ${this.renderNavigation(\n                  activeDate,\n                  this.orientation === 'horizontal'\n                    ? i === activeDates.length - 1\n                    : i === 0,\n                  i\n                )}\n                <igc-days-view\n                  part=\"days-view\"\n                  .active=${this.activeDaysViewIndex === i}\n                  .activeDate=${activeDate}\n                  .weekStart=${this.weekStart}\n                  .weekDayFormat=${this.formatOptions.weekday as\n                    | 'long'\n                    | 'short'\n                    | 'narrow'\n                    | undefined}\n                  .locale=${this.locale}\n                  .selection=${this.selection}\n                  .value=${this.value}\n                  .values=${this.values}\n                  .hideLeadingDays=${this.hideOutsideDays || i !== 0}\n                  .hideTrailingDays=${this.hideOutsideDays ||\n                  i !== activeDates.length - 1}\n                  .showWeekNumbers=${this.showWeekNumbers}\n                  .disabledDates=${this.disabledDates}\n                  .specialDates=${this.specialDates}\n                  .rangePreviewDate=${this.rangePreviewDate}\n                  .resourceStrings=${this.resourceStrings}\n                  exportparts=\"days-row, label, date-inner, week-number-inner, week-number, date, first, last, selected, inactive, hidden, current, weekend, range, special, disabled, single, preview\"\n                  @igcChange=${this.changeValue}\n                  @igcActiveDateChange=${this.activeDateChanged}\n                  @igcRangePreviewDateChange=${this.rangePreviewDateChange}\n                ></igc-days-view>\n              </div>`\n            )\n          : ''}\n        ${this.activeView === 'months'\n          ? html` ${this.renderNavigation()}\n              <igc-months-view\n                part=\"months-view\"\n                .value=${this.activeDate}\n                .locale=${this.locale}\n                .monthFormat=${this.formatOptions.month as\n                  | 'long'\n                  | 'numeric'\n                  | 'short'\n                  | 'narrow'\n                  | '2-digit'\n                  | undefined}\n                exportparts=\"month, selected, month-inner, current\"\n                @igcChange=${this.changeMonth}\n              ></igc-months-view>`\n          : ''}\n        ${this.activeView === 'years'\n          ? html`${this.renderNavigation()}\n              <igc-years-view\n                part=\"years-view\"\n                .value=${this.activeDate}\n                .yearsPerPage=${this.yearPerPage}\n                exportparts=\"year, selected, year-inner, current\"\n                @igcChange=${this.changeYear}\n              ></igc-years-view>`\n          : ''}\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'igc-calendar': IgcCalendarComponent;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}