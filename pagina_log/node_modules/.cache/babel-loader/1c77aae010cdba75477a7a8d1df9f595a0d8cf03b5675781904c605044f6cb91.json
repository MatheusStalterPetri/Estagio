{"ast":null,"code":"import { ref } from 'vue';\nexport default {\n  name: 'LogSquid',\n  setup() {\n    const logData = ref(null);\n    const handleFileUpload = event => {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n      reader.onload = () => {\n        const logContent = reader.result;\n        const regex = /(.)\\1+/g; // Expressão regular para encontrar sequências repetidas\n\n        // Substitui as sequências repetidas por uma única ocorrência do caractere\n        const cleanedLog = logContent.replace(regex, '$1');\n\n        // Separa o log em linhas e transforma cada linha em um objeto\n        const logArray = cleanedLog.split('\\n').map(line => {\n          const [timestamp, ip, url] = line.split(/\\s+/);\n          return {\n            timestamp,\n            ip,\n            url\n          };\n        });\n        logData.value = logArray;\n      };\n      reader.readAsText(file);\n    };\n    return {\n      logData,\n      handleFileUpload\n    };\n  }\n};","map":{"version":3,"names":["ref","name","setup","logData","handleFileUpload","event","file","target","files","reader","FileReader","onload","logContent","result","regex","cleanedLog","replace","logArray","split","map","line","timestamp","ip","url","value","readAsText"],"sources":["C:\\Users\\mthss\\Documentos\\Projeto_estagio\\pagina_log\\src\\views\\LogView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>Leitura de Log do Squid Web Cache</h1>\r\n    <input type=\"file\" @change=\"handleFileUpload\" />\r\n    <table v-if=\"logData\">\r\n      <thead>\r\n        <tr>\r\n          <th>IP de Origem</th>\r\n          <th>Data e Hora</th>\r\n          <th>URL Requisitada</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(log, index) in logData\" :key=\"index\">\r\n          <td>{{ log.ip }}</td>\r\n          <td>{{ log.timestamp }}</td>\r\n          <td>{{ log.url }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\n\r\nexport default {\r\n  name: 'LogSquid',\r\n\r\n  setup() {\r\n    const logData = ref(null);\r\n\r\n    const handleFileUpload = (event) => {\r\n      const file = event.target.files[0];\r\n      const reader = new FileReader();\r\n\r\n      reader.onload = () => {\r\n        const logContent = reader.result;\r\n        const regex = /(.)\\1+/g; // Expressão regular para encontrar sequências repetidas\r\n\r\n        // Substitui as sequências repetidas por uma única ocorrência do caractere\r\n        const cleanedLog = logContent.replace(regex, '$1');\r\n\r\n        // Separa o log em linhas e transforma cada linha em um objeto\r\n        const logArray = cleanedLog.split('\\n').map((line) => {\r\n          const [timestamp, ip, url] = line.split(/\\s+/);\r\n          return {\r\n            timestamp,\r\n            ip,\r\n            url\r\n          };\r\n        });\r\n\r\n        logData.value = logArray;\r\n      };\r\n\r\n      reader.readAsText(file);\r\n    };\r\n\r\n    return {\r\n      logData,\r\n      handleFileUpload\r\n    };\r\n  }\r\n};\r\n</script>\r\n"],"mappings":"AAwBA,SAASA,GAAE,QAAS,KAAK;AAEzB,eAAe;EACbC,IAAI,EAAE,UAAU;EAEhBC,KAAKA,CAAA,EAAG;IACN,MAAMC,OAAM,GAAIH,GAAG,CAAC,IAAI,CAAC;IAEzB,MAAMI,gBAAe,GAAKC,KAAK,IAAK;MAClC,MAAMC,IAAG,GAAID,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAClC,MAAMC,MAAK,GAAI,IAAIC,UAAU,EAAE;MAE/BD,MAAM,CAACE,MAAK,GAAI,MAAM;QACpB,MAAMC,UAAS,GAAIH,MAAM,CAACI,MAAM;QAChC,MAAMC,KAAI,GAAI,SAAS,EAAE;;QAEzB;QACA,MAAMC,UAAS,GAAIH,UAAU,CAACI,OAAO,CAACF,KAAK,EAAE,IAAI,CAAC;;QAElD;QACA,MAAMG,QAAO,GAAIF,UAAU,CAACG,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,CAAEC,IAAI,IAAK;UACpD,MAAM,CAACC,SAAS,EAAEC,EAAE,EAAEC,GAAG,IAAIH,IAAI,CAACF,KAAK,CAAC,KAAK,CAAC;UAC9C,OAAO;YACLG,SAAS;YACTC,EAAE;YACFC;UACF,CAAC;QACH,CAAC,CAAC;QAEFpB,OAAO,CAACqB,KAAI,GAAIP,QAAQ;MAC1B,CAAC;MAEDR,MAAM,CAACgB,UAAU,CAACnB,IAAI,CAAC;IACzB,CAAC;IAED,OAAO;MACLH,OAAO;MACPC;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}