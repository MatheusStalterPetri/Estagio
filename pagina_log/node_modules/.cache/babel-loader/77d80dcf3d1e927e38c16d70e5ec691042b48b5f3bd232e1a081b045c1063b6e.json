{"ast":null,"code":"import { createContext } from '@lit-labs/context';\nimport { FilterController } from './filter.js';\nimport { NavigationController } from './navigation.js';\nimport { SortController } from './sort.js';\nimport { ResizeController } from './resize.js';\nexport class StateController {\n  get active() {\n    return this.navigation.active;\n  }\n  set active(node) {\n    this.navigation.active = node;\n  }\n  get headerRow() {\n    // @ts-expect-error - Protected member access\n    return this.host.headerRow;\n  }\n  get scrollContainer() {\n    // @ts-expect-error - Protected member access\n    return this.host.scrollContainer;\n  }\n  constructor(host) {\n    this.host = host;\n    this.host.addController(this);\n    this.init();\n  }\n  init() {\n    this.sorting = new SortController(this.host);\n    this.filtering = new FilterController(this.host);\n    this.navigation = new NavigationController(this.host);\n    this.resizing = new ResizeController(this.host);\n  }\n  hostConnected() {}\n  hostUpdate() {\n    var _a, _b;\n    (_a = this.headerRow) === null || _a === void 0 ? void 0 : _a.requestUpdate();\n    (_b = this.scrollContainer) === null || _b === void 0 ? void 0 : _b.requestUpdate();\n  }\n}\nexport const gridStateContext = createContext('gridStateController');","map":{"version":3,"names":["createContext","FilterController","NavigationController","SortController","ResizeController","StateController","active","navigation","node","headerRow","host","scrollContainer","constructor","addController","init","sorting","filtering","resizing","hostConnected","hostUpdate","_a","requestUpdate","_b","gridStateContext"],"sources":["../../../src/controllers/state.ts"],"sourcesContent":["import { ReactiveController } from 'lit';\nimport { createContext } from '@lit-labs/context';\nimport { FilterController } from './filter.js';\nimport { NavigationController } from './navigation.js';\nimport { SortController } from './sort.js';\nimport { ResizeController } from './resize.js';\nimport type { ActiveNode, GridHost } from '../internal/types.js';\n\nexport class StateController<T extends object> implements ReactiveController {\n  public sorting!: SortController<T>;\n  public filtering!: FilterController<T>;\n  public navigation!: NavigationController<T>;\n  public resizing!: ResizeController<T>;\n\n  public get active() {\n    return this.navigation.active;\n  }\n\n  public set active(node: ActiveNode<T>) {\n    this.navigation.active = node;\n  }\n\n  public get headerRow() {\n    // @ts-expect-error - Protected member access\n    return this.host.headerRow;\n  }\n\n  public get scrollContainer() {\n    // @ts-expect-error - Protected member access\n    return this.host.scrollContainer;\n  }\n\n  constructor(public host: GridHost<T>) {\n    this.host.addController(this);\n    this.init();\n  }\n\n  protected init() {\n    this.sorting = new SortController(this.host);\n    this.filtering = new FilterController(this.host);\n    this.navigation = new NavigationController(this.host);\n    this.resizing = new ResizeController(this.host);\n  }\n\n  public hostConnected() {}\n\n  public hostUpdate(): void {\n    this.headerRow?.requestUpdate();\n    this.scrollContainer?.requestUpdate();\n  }\n}\n\nexport const gridStateContext = createContext<StateController<any>>('gridStateController');\n"],"mappings":"AACA,SAASA,aAAa,QAAQ,mBAAmB;AACjD,SAASC,gBAAgB,QAAQ,aAAa;AAC9C,SAASC,oBAAoB,QAAQ,iBAAiB;AACtD,SAASC,cAAc,QAAQ,WAAW;AAC1C,SAASC,gBAAgB,QAAQ,aAAa;AAG9C,OAAM,MAAOC,eAAe;EAM1B,IAAWC,MAAMA,CAAA;IACf,OAAO,IAAI,CAACC,UAAU,CAACD,MAAM;EAC/B;EAEA,IAAWA,MAAMA,CAACE,IAAmB;IACnC,IAAI,CAACD,UAAU,CAACD,MAAM,GAAGE,IAAI;EAC/B;EAEA,IAAWC,SAASA,CAAA;IAClB;IACA,OAAO,IAAI,CAACC,IAAI,CAACD,SAAS;EAC5B;EAEA,IAAWE,eAAeA,CAAA;IACxB;IACA,OAAO,IAAI,CAACD,IAAI,CAACC,eAAe;EAClC;EAEAC,YAAmBF,IAAiB;IAAjB,KAAAA,IAAI,GAAJA,IAAI;IACrB,IAAI,CAACA,IAAI,CAACG,aAAa,CAAC,IAAI,CAAC;IAC7B,IAAI,CAACC,IAAI,EAAE;EACb;EAEUA,IAAIA,CAAA;IACZ,IAAI,CAACC,OAAO,GAAG,IAAIZ,cAAc,CAAC,IAAI,CAACO,IAAI,CAAC;IAC5C,IAAI,CAACM,SAAS,GAAG,IAAIf,gBAAgB,CAAC,IAAI,CAACS,IAAI,CAAC;IAChD,IAAI,CAACH,UAAU,GAAG,IAAIL,oBAAoB,CAAC,IAAI,CAACQ,IAAI,CAAC;IACrD,IAAI,CAACO,QAAQ,GAAG,IAAIb,gBAAgB,CAAC,IAAI,CAACM,IAAI,CAAC;EACjD;EAEOQ,aAAaA,CAAA,GAAI;EAEjBC,UAAUA,CAAA;;IACf,CAAAC,EAAA,OAAI,CAACX,SAAS,cAAAW,EAAA,uBAAAA,EAAA,CAAEC,aAAa,EAAE;IAC/B,CAAAC,EAAA,OAAI,CAACX,eAAe,cAAAW,EAAA,uBAAAA,EAAA,CAAED,aAAa,EAAE;EACvC;;AAGF,OAAO,MAAME,gBAAgB,GAAGvB,aAAa,CAAuB,qBAAqB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}